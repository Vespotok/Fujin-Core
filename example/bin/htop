<?php
//SH
namespace Fujin\ConsoleApps;

use Fujin\Framework\Kernel\ConsoleApplication;
use Fujin\Framework\UI\Ncurses\Ncurses;
use Fujin\Framework\UI\Ncurses\Window;

class htop extends ConsoleApplication
{
    const APP_NAME          = "HTop";
    const APP_ICON_GROUP    = "mimes";
    const APP_ICON          = "text-x-php";
    const APP_TYPE          = "cli";

    protected function main(array $args): void
    {
        $ncurses = new Ncurses;
        $ncurses
        ->setEchoState(false)
        ->setNewLineTranslationState(true)
        ->setCursorState(Ncurses::CURSOR_INVISIBLE)
        ->refresh();

        $mainWindow = new Window;
        $mainWindow
        ->border()
        ->title('Hello! Today is ' . date('d.m.Y'))
        ->refresh();

        $window = Window::createCenteredOf($mainWindow, 10, 10);
        $window
            ->border()
            ->moveCursor(3, 4)
            ->drawStringHere('OK!')
            ->refresh();
    }
}